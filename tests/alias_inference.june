// output: 100

struct Foo {
    x: i64
}

struct Bar {
    foo: shared Foo
}

fun qux() -> shared Foo {
    let foo = new shared Foo(x: 100)

    let bar = new shared Bar(foo: foo)

    return foo
}

fun main() {
    let foo = qux()

    println(foo.x)
}